

//Full array of possible cards
let cards=[
		{ 
			suit: 1,
			name: "2",
			src: "Clubs-2.png",
			value: 2
		},
		{ 
			suit: 1,
			name: "3",
			src: "Clubs-3.png",
			value: 3
		},
		{ 
			suit: 1,
			name: "4",
			src: "Clubs-4.png",
			value: 4
		},
		{ 
			suit: 1,
			name: "5",
			src: "Clubs-5.png",
			value: 5
		},
		{ 
			suit: 1,
			name: "6",
			src: "Clubs-6.png",
			value: 6
		},
		{ 
			suit: 1,
			name: "7",
			src: "Clubs-7.png",
			value: 7
		},
		{ 
			suit: 1,
			name: "8",
			src: "Clubs-8.png",
			value: 8
		},
		{ 
			suit: 1,
			name: "9",
			src: "Clubs-9.png",
			value: 9
		},
		{ 
			suit: 1,
			name: "10",
			src: "Clubs-10.png",
			value: 10
		},
		{ 
			suit: 1,
			name: "ace",
			src: "Clubs-Ace.png",
			value: 11
		},
		{ 
			suit: 1,
			name: "jack",
			src: "Clubs-Jack.png",
			value: 10
		},
		{ 
			suit: 1,
			name: "king",
			src: "Clubs-King.png",
			value: 10
		},
		{ 
			suit: 1,
			name: "queen",
			src: "Clubs-Queen.png",
			value: 10
		},
		{ 
			suit: 2,
			name: "2",
			src: "Diamond-2.png",
			value: 2
		},
		{ 
			suit: 2,
			name: "3",
			src: "Diamond-3.png",
			value: 3
		},
		{ 
			suit: 2,
			name: "4",
			src: "Diamond-4.png",
			value: 4
		},
		{ 
			suit: 2,
			name: "5",
			src: "Diamond-5.png",
			value: 5
		},
		{ 
			suit: 2,
			name: "6",
			src: "Diamond-6.png",
			value: 6
		},
		{ 
			suit: 2,
			name: "7",
			src: "Diamond-7.png",
			value: 7
		},
		{ 
			suit: 2,
			name: "8",
			src: "Diamond-8.png",
			value: 8
		},
		{ 
			suit: 2,
			name: "9",
			src: "Diamond-9.png",
			value: 9
		},
		{ 
			suit: 2,
			name: "10",
			src: "Diamond-10.png",
			value: 10
		},
		{ 
			suit: 2,
			name: "ace",
			src: "Diamond-Ace.png",
			value: 11
		},
		{ 
			suit: 2,
			name: "jack",
			src: "Diamond-Jack.png",
			value: 10
		},
		{ 
			suit: 2,
			name: "king",
			src: "Diamond-King.png",
			value: 10
		},
		{ 
			suit: 2,
			name: "queen",
			src: "Diamond-Queen.png",
			value: 10
		},
		{ 
			suit: 3,
			name: "2",
			src: "Hearts-2.png",
			value: 2
		},
		{ 
			suit: 3,
			name: "3",
			src: "Hearts-3.png",
			value: 3
		},
		{ 
			suit: 3,
			name: "4",
			src: "Hearts-4.png",
			value: 4
		},
		{ 
			suit: 3,
			name: "5",
			src: "Hearts-5.png",
			value: 5
		},
		{ 
			suit: 3,
			name: "6",
			src: "Hearts-6.png",
			value: 6
		},
		{ 
			suit: 3,
			name: "7",
			src: "Hearts-7.png",
			value: 7
		},
		{ 
			suit: 3,
			name: "8",
			src: "Hearts-8.png",
			value: 8
		},
		{ 
			suit: 3,
			name: "9",
			src: "Hearts-9.png",
			value: 9
		},
		{ 
			suit: 3,
			name: "10",
			src: "Hearts-10.png",
			value: 10
		},
		{ 
			suit: 3,
			name: "ace",
			src: "Hearts-Ace.png",
			value: 11
		},
		{ 
			suit: 3,
			name: "jack",
			src: "Hearts-Jack.png",
			value: 10
		},
		{ 
			suit: 3,
			name: "king",
			src: "Hearts-King.png",
			value: 10
		},
		{ 
			suit: 3,
			name: "queen",
			src: "Hearts-Queen.png",
			value: 10
		},
		{ 
			suit: 4,
			name: "2",
			src: "Spades-2.png",
			value: 2
		},
		{ 
			suit: 4,
			name: "3",
			src: "Spades-3.png",
			value: 3
		},
		{ 
			suit: 4,
			name: "4",
			src: "Spades-4.png",
			value: 4
		},
		{ 
			suit: 4,
			name: "5",
			src: "Spades-5.png",
			value: 5
		},
		{ 
			suit: 4,
			name: "6",
			src: "Spades-6.png",
			value: 6
		},
		{ 
			suit: 4,
			name: "7",
			src: "Spades-7.png",
			value: 7
		},
		{ 
			suit: 4,
			name: "8",
			src: "Spades-8.png",
			value: 8
		},
		{ 
			suit: 4,
			name: "9",
			src: "Spades-9.png",
			value: 9
		},
		{ 
			suit: 4,
			name: "10",
			src: "Spades-10.png",
			value: 10
		},
		{ 
			suit: 4,
			name: "ace",
			src: "Spades-Ace.png",
			value: 11
		},
		{ 
			suit: 4,
			name: "jack",
			src: "Spades-Jack.png",
			value: 10
		},
		{ 
			suit: 4,
			name: "king",
			src: "Spades-King.png",
			value: 10
		},
		{ 
			suit: 4,
			name: "queen",
			src: "Spades-Queen.png",
			value: 10
		}
	];





// console.log(randomCardNum);
// console.log(randomCardShape);
// console.log(cards[0].suit);
let newRandomCard
let newCardArr = []; //게임 진행 중에 뽑힌 카드가 쌓인 배열
let alReadyCard = 0; 

const $dealerCard = document.querySelector('.dealer-card');
const $playerCard = document.querySelector('.player-card');

console.log($dealerCard);


//랜덤카드 만들기
function RandomCard(){
	let randomCardShape = Math.floor(Math.random() * 4) + 1; //랜덤 문양 
	
	let randomCardNum = Math.floor(Math.random() * 13) + 1; // 랜덤 숫자
	console.log(randomCardNum);
 
	//newCardList = 랜덤문양 카드 모두 담은 배열
	let newCardList = cards.filter(card => card.suit === randomCardShape);
	//newRandomCard = 랜덤으로 골라낸 카드
	newRandomCard = newCardList[randomCardNum-1];

	// console.log(newRandomCard);
	return newRandomCard;	
	//  newCardList.filter(card => card.value === randomCardNum);	 
}


//카드 비교 함수
function compareCard() {

if (!newCardArr.includes(newRandomCard)){ //배열에 새로운 랜덤카드랑 같은카드가 없을때 푸시
	console.log(newRandomCard);
	newCardArr.push(newRandomCard);
}else{
	console.log('이미 카드가 있습니다.'); //랜덤카드가 이미 뽑았던 카드라면 alReadyCard의 값을 99로 리턴한다
	alReadyCard = 99;
	return alReadyCard;
}
}



//게임초기세팅
function startTabel() {
	for (i=0;i<=3;i++){
		RandomCard(); 
		compareCard();
		//카드를 비교했을때 기존에 뽑은 카드가 뽑혔다면 다시 뽑고 alReadyCard의 값을 0으로 되돌린다.
		if(alReadyCard === 99){ 
			i--;
			alReadyCard = 0;
			continue;
		}

		//딜러랑 플레이어에게 한장씩 차례로 카드뿌리기
		if(i % 2 ===0){
			console.log('딜러에게 카드를 부여합니다.')
			const $img = document.createElement('img');
			$img.src = `img/${newRandomCard.src}`
			$dealerCard.appendChild($img);
		}else{
			console.log('플레이어에게 카드를 부여합니다.');		
			const $img = document.createElement('img');
			$img.src = `img/${newRandomCard.src}`
			$playerCard.appendChild($img);	
		}
		
	}
	//newCardArr는 반복 실행을 통해 4장의 카드를 뽑고 종료된다
	console.log(newCardArr);	
}

startTabel();
